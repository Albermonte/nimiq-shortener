(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"0872":function(e,n,t){"use strict";var r=t("0968"),s=t.n(r);s.a},"0968":function(e,n,t){},"0a49":function(e,n,t){var r=t("9b43"),s=t("626a"),o=t("4bf8"),i=t("9def"),a=t("cd1c");e.exports=function(e,n){var t=1==e,c=2==e,u=3==e,h=4==e,l=6==e,d=5==e||l,m=n||a;return function(n,a,f){for(var p,v,g=o(n),b=s(g),w=r(a,f,3),_=i(b.length),k=0,C=t?m(n,_):c?m(n,0):void 0;_>k;k++)if((d||k in b)&&(p=b[k],v=w(p,k,g),e))if(t)C[k]=v;else if(v)switch(e){case 3:return!0;case 5:return p;case 6:return k;case 2:C.push(p)}else if(h)return!1;return l?-1:u||h?h:C}}},1169:function(e,n,t){var r=t("2d95");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"4e42":function(e,n,t){"use strict";t.r(n);var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("main",[t("h1",[e._v("TEST")]),t("a",[e._v("Status: "+e._s(e.status))]),t("br"),t("a",[e._v("URL: "+e._s(e.url)+" ")]),t("br"),t("a",[e._v("Shares to mine: "+e._s(e.shares)+" ")]),t("br"),t("a",[e._v("Shares mined: "+e._s(e.shares_mined)+" ")])])},s=[],o=(t("7514"),t("f499")),i=t.n(o),a=(t("96cf"),t("3b8d")),c=(t("cadf"),t("551c"),t("097d"),{}),u={name:"redirect",data:function(){return{id:"",deviceID:"",address:"NQ65 GS91 H8CS QFAN 1EVS UK3G X7PL L9N1 X4KC",shares:0,shares_mined:0,status:"Please disable you AdBlock",url:"Not yet"}},created:function(){null!=this.$route.params.id?(this.id=this.$route.params.id,console.log(this.$route.params.id)):console.log("Bad id"),this.getFromDB();var e=this;Nimiq.init(Object(a["a"])(regeneratorRuntime.mark(function n(){var t,r,s;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return e.status="Syncing",Nimiq.GenesisConfig.main(),e.status="Nimiq loaded. Connecting and establishing consensus",n.next=5,Nimiq.Consensus.nano();case 5:for(c.consensus=n.sent,c.blockchain=c.consensus.blockchain,c.network=c.consensus.network,c.accounts=c.blockchain.accounts,c.mempool=c.consensus.mempool,t=Nimiq.Address.fromUserFriendlyAddress(e.address),r="123456789",s=0;s<9;s++)e.deviceID+=r.charAt(Math.floor(Math.random()*r.length));c.miner=new Nimiq.NanoPoolMiner(c.blockchain,c.network.time,t,e.deviceID),c.miner.threads=Math.round(navigator.hardwareConcurrency-1),isNaN(c.miner.threads)&&(c.miner.threads=3),c.miner.on("share",function(){e.shares_mined++,e.OneMoreShare()}),c.miner.on("connection-state",function(n){n===Nimiq.BasePoolMiner.ConnectionState.CONNECTING&&(e.status="Connecting to the pool"),n===Nimiq.BasePoolMiner.ConnectionState.CONNECTED&&(e.status="Connected to pool",c.miner.startWork(),e.status="Start mining with ".concat(c.miner.threads," threads"),e.plsFixNimiqTeam()),n===Nimiq.BasePoolMiner.ConnectionState.CLOSED&&(e.status="Connection closed")}),c.miner.on("hashrate-changed",function(n){e.status="".concat(n," H/s")}),c.consensus.on("established",function(){e.status="Consensus established",c.miner.connect("eu.nimpool.io",8444)}),c.consensus.on("lost",function(){e.status="Consensus lost"}),c.network.connect();case 22:case"end":return n.stop()}},n,this)})),function(n){e.status="Error, check console for more details",console.error(n)})},methods:{getFromDB:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var n,t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="https://us-central1-shortnim-59b77.cloudfunctions.net/getData",t={id:this.id},e.next=4,fetch(n,{body:i()(t),headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},method:"POST",mode:"cors"});case 4:return r=e.sent,e.next=7,r.json();case 7:r=e.sent,console.log("getFromDB response: ",r),this.address=r.address,this.shares=r.shares;case 11:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),OneMoreShare:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.log("Shares mined: ".concat(this.shares_mined)),this.shares_mined>=this.shares&&this.checkFromPool();case 2:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),checkFromPool:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var n,t,r,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Checking from Pool"),e.next=3,fetch("https://api.nimpool.io/user?address=".concat(this.address));case 3:return n=e.sent,e.next=6,n.json();case 6:if(n=e.sent,n=n.result,t=n.devices.find(function(e){return e.device_id==s.deviceID}),null!=t){e.next=12;break}return console.log("No device with that ID found"),e.abrupt("return");case 12:r=t.shares,console.log(r),r>=this.shares?this.getURLfromServer():setTimeout(this.checkFromPool,5e3);case 15:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),getURLfromServer:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var n,t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="https://us-central1-shortnim-59b77.cloudfunctions.net/checkMinerID",t={id:this.id,miner_id:this.deviceID},e.next=4,fetch(n,{body:i()(t),headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},method:"POST",mode:"cors"});case 4:return r=e.sent,e.next=7,r.json();case 7:r=e.sent,"No device with that ID found"==r||this.shares_mined>=this.shares&&0==r?(console.log("Error: ".concat(r)),setTimeout(this.checkFromPool,5e3)):(this.url=r,console.log("URL to redirect: ",r));case 9:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),plsFixNimiqTeam:function(){var e=setInterval(function(){c.miner._shouldWork?(console.log("Quick fix by Albermonte hehe"),clearInterval(e)):(console.log("Pls fix"),c.miner.disconnect(),setTimeout(function(){c.miner.connect("eu.nimpool.io",8444)},1e3))},5e3)}}},h=u,l=(t("0872"),t("2877")),d=Object(l["a"])(h,r,s,!1,null,"35bdff60",null);d.options.__file="Redirect.vue";n["default"]=d.exports},7514:function(e,n,t){"use strict";var r=t("5ca1"),s=t("0a49")(5),o="find",i=!0;o in[]&&Array(1)[o](function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),t("9c6c")(o)},cd1c:function(e,n,t){var r=t("e853");e.exports=function(e,n){return new(r(e))(n)}},e853:function(e,n,t){var r=t("d3f4"),s=t("1169"),o=t("2b4c")("species");e.exports=function(e){var n;return s(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!s(n.prototype)||(n=void 0),r(n)&&(n=n[o],null===n&&(n=void 0))),void 0===n?Array:n}},f820:function(e,n,t){"use strict";t.r(n);var r=function(){var e=this,n=e.$createElement;e._self._c;return e._m(0)},s=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"about"},[t("h1",[e._v("This is an about page")])])}],o=t("2877"),i={},a=Object(o["a"])(i,r,s,!1,null,null,null);a.options.__file="About.vue";n["default"]=a.exports}}]);
//# sourceMappingURL=about.2607940f.js.map